@model CW.Models.User
@{
    ViewBag.Title = "User edit";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section MainContent{
    <div class="main-content">
        <div class="contact-form">
            @if (ViewContext.HttpContext.User.IsInRole("Admin"))
            {
                using (Html.BeginForm())
                {
                    @Html.ValidationSummary(true)

                    <fieldset>
                        <h3>User</h3>
                        <ul style="padding-left: 0;">

                            @Html.HiddenFor(model => model.Id)
                            @Html.HiddenFor(model => model.Password)

                            <li class="register">
                                @Html.EditorFor(model => model.Name, "name", new { @onfocus = "this.value = '';", @onblur = "if (this.value == '') {this.value = 'Name';}" })
                                @Html.ValidationMessageFor(model => model.Name)
                            </li>
                            <li class="register">
                                @Html.EditorFor(model => model.Login, "login", new { @onfocus = "this.value = '';", @onblur = "if (this.value == '') {this.value = 'Login';}" })
                                @Html.ValidationMessageFor(model => model.Login)
                            </li>
                            <li class="register">
                                @Html.DropDownListFor(model => model.RoleId, ViewBag.Roles as SelectList, new { @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.RoleId)
                            </li>
                            <li class="register">
                                <input type="submit" value="Save" />
                            </li>
                        </ul>
                    </fieldset>
                }
            }
        </div>
    </div>
}